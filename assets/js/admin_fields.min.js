jQuery(function(t){"use strict";var e=t(document),o="";t("#widgets-right").length?o="#widgets-right ":0==t("#menu-to-edit").length&&(document.getElementsByClassName("long-toolkit-repeater").length&&t(".long-toolkit-repeater").ltfwRepeater(),document.getElementsByClassName("long-toolkit-map").length&&t(".long-toolkit-map").ltfwMap()),t(".long-toolkit-image_picker").ltfwImagePicker(),document.getElementsByClassName("long-toolkit-link").length&&t(".long-toolkit-link").ltfwLink(),t(".long-toolkit-color:not(.child-field)").length&&t(o+".long-toolkit-color:not(.child-field)").wpColorPicker(),t(o+".long-toolkit-icon_picker:not(.child-field)").length&&t(o+".long-toolkit-icon_picker:not(.child-field) select").fontIconPicker(),document.getElementsByClassName("long-toolkit-datetime").length&&t(o+".long-toolkit-datetime input").each(function(){var e=t(this).ltfwData();t(this).datetimepicker(e)}),document.getElementsByClassName("long-toolkit-checkboxes")&&e.on("change",'.long-toolkit-checkboxes input[type="checkbox"]',function(){var e=t(this).closest("ul").find('input[type="checkbox"]:checked').map(function(){return this.value}).get().join(",");t(this).closest("ul").prev("input.long_toolkit_value").val(e).trigger("change")}),document.getElementsByClassName("long-toolkit-radios")&&e.on("change",'.long-toolkit-radios input[type="radio"]',function(e){var o=t(this),l=o.closest("ul");l.find("input").removeAttr("checked"),o.attr("checked","checked"),l.prev("input.long_toolkit_value").val(o.val()).trigger("change")}),t(o+".long-toolkit-select-multiple").length&&(t(o+".long-toolkit-select-multiple:not(.child-field)").selectize({plugins:["remove_button","drag_drop"]}),e.on("change",o+".long-toolkit-select-multiple",function(){t(this).closest("div").find(".long_toolkit_value").val(t(this).val()).trigger("change")})),t(o+".long-toolkit-autocomplete select").length&&(t(o+".long-toolkit-autocomplete:not(.child-field) select").ltfwAutocomplete(),e.on("change",o+".long-toolkit-autocomplete select",function(){t(this).closest("div").find(".long_toolkit_value").val(t(this).val()).trigger("change")})),document.getElementsByClassName("long-toolkit-upload")&&t(".long-toolkit-upload").ltfwUpload(),document.getElementsByClassName("long-toolkit-textfield-multiple")&&t(".long-toolkit-textfield-multiple").ltfwTextfields();var l=function(e){if(window.hasOwnProperty("google")){var o=e.find(".long-toolkit-map");o.length&&o.ltfwMap().addClass("map_loaded")}var l=e.find(".long-toolkit-color");l.length&&l.wpColorPicker();var n=e.find(".long-toolkit-icon_picker select");n.length&&n.fontIconPicker();var i=e.find(".long-toolkit-datetime input");i.length&&i.each(function(){var e=t(this).ltfwData();t(this).datetimepicker(e)});var a=e.find(".long-toolkit-repeater");a.length&&!a.hasClass("repeater_loaded")&&a.addClass("repeater_loaded").ltfwRepeater(),e.find(".long-toolkit-select-multiple").length&&e.find(".long-toolkit-select-multiple:not(.child-field)").selectize({plugins:["remove_button","drag_drop"]}),e.find(".long-toolkit-autocomplete").length&&e.find(".long-toolkit-autocomplete:not(.child-field) select").ltfwAutocomplete();var d=e.find("div[data-dependency]");d.length&&d.initWidgetDependency()};if(e.on("widget-updated",function(t,e){l(e)}),e.on("widget-added",function(t,e){l(e)}),e.on("click","#widgets-right .widget-title",function(e){var o=t(this);setTimeout(function(){var t=o.closest(".open");if(t.length){var e=t.find(".long-toolkit-map");e.length&&!e.hasClass("map_loaded")&&e.ltfwMap();var l=t.find(".long-toolkit-repeater");l.length&&!l.hasClass("repeater_loaded")&&l.addClass("repeater_loaded").ltfwRepeater()}},300),e.preventDefault()}),e.on("long-toolkit-repeater-item-opened",function(t,e){var o=e.find(".long-toolkit-map");o.length&&o.ltfwMap()}),e.on("click",".long_toolkit_group .group_nav a",function(o){var l=t(this),n=l.attr("href");l.closest("ul").find(".active").removeClass("active"),l.addClass("active"),t(".long_toolkit_group .group_item.active").removeClass("active");var i=t(".long_toolkit_group "+n);i.addClass("active"),t(".long_toolkit_group "+n+" .map_loaded").length&&(i.find(".long-toolkit-map").hasClass("map_refresh")||i.find(".long-toolkit-map").ltfwMap().addClass("map_refresh")),e.trigger("long_toolkit_group_active",[i]),o.preventDefault()}),t("#menu-to-edit .menu-item .item-edit").click(function(e){var o=t(this);setTimeout(function(){var t=o.closest(".menu-item");if(t.length){var e=t.find(".long-toolkit-map");e.length&&!e.hasClass("map_loaded")&&e.ltfwMap()}},300),e.preventDefault()}),window.hasOwnProperty("pagenow"))if("widgets"===pagenow){var n=t("#widgets-right").find("div[data-dependency]");n.length&&n.initWidgetDependency()}else"nav-menus"===pagenow?t("#menu-to-edit div[data-dependency]").length&&t("#menu-to-edit div[data-dependency]").initMenuDependency():t("[data-dependency]").initDependency();else t("[data-dependency]").length&&t("[data-dependency]").initDependency();t("input.long-toolkit-manage_box").length&&(t("input.long-toolkit-manage_box").each(function(){var e=t(this),o="";1==e.val()?(o="checked",e.closest(".postbox").removeClass("postbox--disabled")):e.closest(".postbox").addClass("postbox--disabled"),e.closest(".postbox").find(".hndle").before('<label class="long-toolkit-controlbox"><input type="checkbox" '+o+' data-name="'+e.attr("name")+'"/>'+e.data("label")+"</label>")}),t(document).on("change",".long-toolkit-controlbox input",function(e){var o=t(this),l=o.closest(".postbox"),n=0;o.is(":checked")?(l.removeClass("postbox--disabled"),n=1):l.addClass("postbox--disabled"),t("input[name="+o.data("name")+"]").val(n).change(),e.preventDefault(),e.stopPropagation()})),t(".long-toolkit-manage_group").length&&(t("input.long-toolkit-manage_group").on("change",function(e){var o=t(this);o.is(":checked")?o.closest(".long_toolkit_form_row").removeClass("group-disabled"):o.closest(".long_toolkit_form_row").addClass("group-disabled"),e.preventDefault()}),t("input.long-toolkit-manage_group").change()),t(".long-toolkit-textarea").length&&t(".long-toolkit-textarea").each(function(){var t=jQuery(this).attr("id");wp.editor.initialize(t,{mediaButtons:!0,tinymce:{wpautop:!0,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"formatselect bold italic | bullist numlist | blockquote | alignleft aligncenter alignright | link unlink | wp_more | spellchecker"},quicktags:jQuery(this).attr("data-quicktags")})})});